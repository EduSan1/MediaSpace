{"version":3,"file":"Logger.js","names":["ConsoleRawStream","write","record","level","bunyan","DEBUG","console","debug","INFO","log","WARN","info","ERROR","warn","error","logger","createLogger","name","serializers","stdSerializers","streams","process","env","EXPO_RAW_LOG","NODE_ENV","type","stream","closeOnExit","child","options","notifications","global"],"sources":["../src/Logger.ts"],"sourcesContent":["import bunyan from '@expo/bunyan';\n\nclass ConsoleRawStream {\n  write(record: any) {\n    if (record.level < bunyan.DEBUG) {\n      console.debug(record);\n    } else if (record.level < bunyan.INFO) {\n      console.log(record);\n    } else if (record.level < bunyan.WARN) {\n      console.info(record);\n    } else if (record.level < bunyan.ERROR) {\n      console.warn(record);\n    } else {\n      console.error(record);\n    }\n  }\n}\n\nconst logger = bunyan.createLogger({\n  name: 'expo',\n  serializers: bunyan.stdSerializers,\n  streams:\n    process.env.EXPO_RAW_LOG && process.env.NODE_ENV !== 'production'\n      ? [\n          {\n            type: 'raw',\n            stream: new ConsoleRawStream(),\n            closeOnExit: false,\n            level: 'debug',\n          },\n        ]\n      : [],\n});\n\nexport type LogStream = bunyan.Stream;\nexport type Log = bunyan;\n\nexport default {\n  child: (options: object) => logger.child(options),\n  notifications: logger.child({ type: 'notifications' }),\n  global: logger.child({ type: 'global' }),\n  DEBUG: bunyan.DEBUG,\n  INFO: bunyan.INFO,\n  WARN: bunyan.WARN,\n  ERROR: bunyan.ERROR,\n};\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAEA,MAAMA,gBAAN,CAAuB;EACrBC,KAAK,CAACC,MAAD,EAAc;IACjB,IAAIA,MAAM,CAACC,KAAP,GAAeC,iBAAA,CAAOC,KAA1B,EAAiC;MAC/BC,OAAO,CAACC,KAAR,CAAcL,MAAd;IACD,CAFD,MAEO,IAAIA,MAAM,CAACC,KAAP,GAAeC,iBAAA,CAAOI,IAA1B,EAAgC;MACrCF,OAAO,CAACG,GAAR,CAAYP,MAAZ;IACD,CAFM,MAEA,IAAIA,MAAM,CAACC,KAAP,GAAeC,iBAAA,CAAOM,IAA1B,EAAgC;MACrCJ,OAAO,CAACK,IAAR,CAAaT,MAAb;IACD,CAFM,MAEA,IAAIA,MAAM,CAACC,KAAP,GAAeC,iBAAA,CAAOQ,KAA1B,EAAiC;MACtCN,OAAO,CAACO,IAAR,CAAaX,MAAb;IACD,CAFM,MAEA;MACLI,OAAO,CAACQ,KAAR,CAAcZ,MAAd;IACD;EACF;;AAboB;;AAgBvB,MAAMa,MAAM,GAAGX,iBAAA,CAAOY,YAAP,CAAoB;EACjCC,IAAI,EAAE,MAD2B;EAEjCC,WAAW,EAAEd,iBAAA,CAAOe,cAFa;EAGjCC,OAAO,EACLC,OAAO,CAACC,GAAR,CAAYC,YAAZ,IAA4BF,OAAO,CAACC,GAAR,CAAYE,QAAZ,KAAyB,YAArD,GACI,CACE;IACEC,IAAI,EAAE,KADR;IAEEC,MAAM,EAAE,IAAI1B,gBAAJ,EAFV;IAGE2B,WAAW,EAAE,KAHf;IAIExB,KAAK,EAAE;EAJT,CADF,CADJ,GASI;AAb2B,CAApB,CAAf;;eAmBe;EACbyB,KAAK,EAAGC,OAAD,IAAqBd,MAAM,CAACa,KAAP,CAAaC,OAAb,CADf;EAEbC,aAAa,EAAEf,MAAM,CAACa,KAAP,CAAa;IAAEH,IAAI,EAAE;EAAR,CAAb,CAFF;EAGbM,MAAM,EAAEhB,MAAM,CAACa,KAAP,CAAa;IAAEH,IAAI,EAAE;EAAR,CAAb,CAHK;EAIbpB,KAAK,EAAED,iBAAA,CAAOC,KAJD;EAKbG,IAAI,EAAEJ,iBAAA,CAAOI,IALA;EAMbE,IAAI,EAAEN,iBAAA,CAAOM,IANA;EAObE,KAAK,EAAER,iBAAA,CAAOQ;AAPD,C"}