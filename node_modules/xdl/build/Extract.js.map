{"version":3,"file":"Extract.js","names":["extractAsync","archive","dir","process","platform","spawnAsync","stdio","cwd","__dirname","e","console","error","message","tar","extract","file"],"sources":["../src/Extract.ts"],"sourcesContent":["import spawnAsync from '@expo/spawn-async';\nimport tar from 'tar';\n\nexport async function extractAsync(archive: string, dir: string): Promise<void> {\n  try {\n    if (process.platform !== 'win32') {\n      await spawnAsync('tar', ['-xf', archive, '-C', dir], {\n        stdio: 'inherit',\n        cwd: __dirname,\n      });\n      return;\n    }\n  } catch (e: any) {\n    console.error(e.message);\n  }\n  // tar node module has previously had problems with big files, and seems to\n  // be slower, so only use it as a backup.\n  await tar.extract({ file: archive, cwd: dir });\n}\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAEO,eAAeA,YAAf,CAA4BC,OAA5B,EAA6CC,GAA7C,EAAyE;EAC9E,IAAI;IACF,IAAIC,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;MAChC,MAAM,IAAAC,qBAAA,EAAW,KAAX,EAAkB,CAAC,KAAD,EAAQJ,OAAR,EAAiB,IAAjB,EAAuBC,GAAvB,CAAlB,EAA+C;QACnDI,KAAK,EAAE,SAD4C;QAEnDC,GAAG,EAAEC;MAF8C,CAA/C,CAAN;MAIA;IACD;EACF,CARD,CAQE,OAAOC,CAAP,EAAe;IACfC,OAAO,CAACC,KAAR,CAAcF,CAAC,CAACG,OAAhB;EACD,CAX6E,CAY9E;EACA;;;EACA,MAAMC,cAAA,CAAIC,OAAJ,CAAY;IAAEC,IAAI,EAAEd,OAAR;IAAiBM,GAAG,EAAEL;EAAtB,CAAZ,CAAN;AACD"}