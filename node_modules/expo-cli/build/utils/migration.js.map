{"version":3,"file":"migration.js","names":["warnAboutLocalCLI","projectRoot","localCmd","exp","getConfig","skipSDKVersionRequirement","useLocalCLI","boolish","Versions","gteSdkVersion","Log","warn","chalk","learnMore","warnMigration","toCommand"],"sources":["../../src/utils/migration.ts"],"sourcesContent":["import { getConfig } from '@expo/config';\nimport chalk from 'chalk';\nimport { boolish } from 'getenv';\nimport { Versions } from 'xdl';\n\nimport { learnMore } from '../commands/utils/TerminalLink';\nimport Log from '../log';\n\nexport function warnAboutLocalCLI(projectRoot: string, { localCmd }: { localCmd: string }) {\n  const { exp } = getConfig(projectRoot, { skipSDKVersionRequirement: true });\n  const useLocalCLI = boolish('EXPO_USE_LOCAL_CLI', true);\n  if (Versions.gteSdkVersion(exp, '46.0.0') && useLocalCLI) {\n    Log.warn(\n      chalk`\\nThis command is being executed with the global Expo CLI. ${learnMore(\n        'https://blog.expo.dev/the-new-expo-cli-f4250d8e3421'\n      )}\\nTo use the local CLI instead (recommended in SDK 46 and higher), run:\\n\\u203A {bold npx expo ${localCmd}}\\n`\n    );\n  }\n}\n\nexport function warnMigration(toCommand: string) {\n  Log.warn(chalk`\\nMigrate to using:\\n\\u203A {bold ${toCommand}}\\n`);\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAEO,SAASA,iBAAT,CAA2BC,WAA3B,EAAgD;EAAEC;AAAF,CAAhD,EAAoF;EACzF,MAAM;IAAEC;EAAF,IAAU,IAAAC,mBAAA,EAAUH,WAAV,EAAuB;IAAEI,yBAAyB,EAAE;EAA7B,CAAvB,CAAhB;EACA,MAAMC,WAAW,GAAG,IAAAC,iBAAA,EAAQ,oBAAR,EAA8B,IAA9B,CAApB;;EACA,IAAIC,eAAA,CAASC,aAAT,CAAuBN,GAAvB,EAA4B,QAA5B,KAAyCG,WAA7C,EAA0D;IACxDI,cAAA,CAAIC,IAAJ,CACE,IAAAC,gBAAA,CAAM,8DAA6D,IAAAC,yBAAA,EACjE,qDADiE,CAEjE,kGAAiGX,QAAS,KAH9G;EAKD;AACF;;AAEM,SAASY,aAAT,CAAuBC,SAAvB,EAA0C;EAC/CL,cAAA,CAAIC,IAAJ,CAAS,IAAAC,gBAAA,CAAM,qCAAoCG,SAAU,KAA7D;AACD"}