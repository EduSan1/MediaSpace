{"version":3,"file":"matchFileNameOrURLFromStackTrace.js","names":["matchFileNameOrURLFromStackTrace","traceMessage","includes","traceLine","split","trim","match","url","params","results","paramsWithoutLocation","replace","push","filter","Boolean","join"],"sources":["../../src/utils/matchFileNameOrURLFromStackTrace.ts"],"sourcesContent":["/**\n * Given a line from a metro stack trace, this can attempt to extract\n * the file name or URL, omitting the code location.\n * Can be used to filter files from the stacktrace like LogBox.\n *\n * @param traceLine\n */\nexport function matchFileNameOrURLFromStackTrace(traceMessage: string): string | null {\n  if (!traceMessage.includes(' in ')) return null;\n  const traceLine = traceMessage.split(' in ')[0]?.trim();\n  // Is URL\n  // \"http://127.0.0.1:19000/index.bundle?platform=ios&dev=true&hot=false&minify=false:110910:3 in global code\"\n  if (traceLine.match(/https?:\\/\\//g)) {\n    const [url, params] = traceLine.split('?');\n\n    const results: string[] = [url];\n    if (params) {\n      const paramsWithoutLocation = params.replace(/:(\\d+)/g, '').trim();\n      results.push(paramsWithoutLocation);\n    }\n    return results.filter(Boolean).join('?');\n  }\n\n  // \"node_modules/react-native/Libraries/LogBox/LogBox.js:117:10 in registerWarning\"\n  // \"somn.js:1:0 in <global>\"\n  return traceLine.replace(/:(\\d+)/g, '').trim();\n}\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,gCAAT,CAA0CC,YAA1C,EAA+E;EAAA;;EACpF,IAAI,CAACA,YAAY,CAACC,QAAb,CAAsB,MAAtB,CAAL,EAAoC,OAAO,IAAP;EACpC,MAAMC,SAAS,2BAAGF,YAAY,CAACG,KAAb,CAAmB,MAAnB,EAA2B,CAA3B,CAAH,yDAAG,qBAA+BC,IAA/B,EAAlB,CAFoF,CAGpF;EACA;;EACA,IAAIF,SAAS,CAACG,KAAV,CAAgB,cAAhB,CAAJ,EAAqC;IACnC,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBL,SAAS,CAACC,KAAV,CAAgB,GAAhB,CAAtB;IAEA,MAAMK,OAAiB,GAAG,CAACF,GAAD,CAA1B;;IACA,IAAIC,MAAJ,EAAY;MACV,MAAME,qBAAqB,GAAGF,MAAM,CAACG,OAAP,CAAe,SAAf,EAA0B,EAA1B,EAA8BN,IAA9B,EAA9B;MACAI,OAAO,CAACG,IAAR,CAAaF,qBAAb;IACD;;IACD,OAAOD,OAAO,CAACI,MAAR,CAAeC,OAAf,EAAwBC,IAAxB,CAA6B,GAA7B,CAAP;EACD,CAdmF,CAgBpF;EACA;;;EACA,OAAOZ,SAAS,CAACQ,OAAV,CAAkB,SAAlB,EAA6B,EAA7B,EAAiCN,IAAjC,EAAP;AACD"}