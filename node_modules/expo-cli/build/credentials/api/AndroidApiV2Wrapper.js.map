{"version":3,"file":"AndroidApiV2Wrapper.js","names":["ApiClient","constructor","api","getAllCredentialsApi","getAsync","credentials","getAllCredentialsForAppApi","experienceName","updateKeystoreApi","keystore","putAsync","updateFcmKeyApi","fcmApiKey","removeKeystoreApi","deleteAsync","removeFcmKeyApi"],"sources":["../../../src/credentials/api/AndroidApiV2Wrapper.ts"],"sourcesContent":["import { ApiV2 } from 'xdl';\n\nimport { AndroidCredentials, Keystore } from '../credentials';\n\ntype AllCredentialsApiResponse = AndroidCredentials[];\n\n// This class should not be used directly, use only as part of cached api client from ./AndroidApi.ts\n// or mock it in tests (it's easier to mock this class than ApiV2 directly)\nexport default class ApiClient {\n  constructor(private api: ApiV2) {}\n\n  public async getAllCredentialsApi(): Promise<AllCredentialsApiResponse> {\n    return (await this.api.getAsync('credentials/android'))?.credentials || [];\n  }\n  public async getAllCredentialsForAppApi(experienceName: string): Promise<AndroidCredentials> {\n    return await this.api.getAsync(`credentials/android/${experienceName}`);\n  }\n  public async updateKeystoreApi(experienceName: string, keystore: Keystore): Promise<void> {\n    return await this.api.putAsync(`credentials/android/keystore/${experienceName}`, { keystore });\n  }\n  public async updateFcmKeyApi(experienceName: string, fcmApiKey: string): Promise<void> {\n    return await this.api.putAsync(`credentials/android/push/${experienceName}`, { fcmApiKey });\n  }\n  public async removeKeystoreApi(experienceName: string): Promise<void> {\n    await this.api.deleteAsync(`credentials/android/keystore/${experienceName}`);\n  }\n  public async removeFcmKeyApi(experienceName: string): Promise<void> {\n    await this.api.deleteAsync(`credentials/android/push/${experienceName}`);\n  }\n}\n"],"mappings":";;;;;;;AAMA;AACA;AACe,MAAMA,SAAN,CAAgB;EAC7BC,WAAW,CAASC,GAAT,EAAqB;IAAA,KAAZA,GAAY,GAAZA,GAAY;EAAE;;EAED,MAApBC,oBAAoB,GAAuC;IAAA;;IACtE,OAAO,0BAAC,MAAM,KAAKD,GAAL,CAASE,QAAT,CAAkB,qBAAlB,CAAP,gFAAkDC,WAAlD,KAAiE,EAAxE;EACD;;EACsC,MAA1BC,0BAA0B,CAACC,cAAD,EAAsD;IAC3F,OAAO,MAAM,KAAKL,GAAL,CAASE,QAAT,CAAmB,uBAAsBG,cAAe,EAAxD,CAAb;EACD;;EAC6B,MAAjBC,iBAAiB,CAACD,cAAD,EAAyBE,QAAzB,EAA4D;IACxF,OAAO,MAAM,KAAKP,GAAL,CAASQ,QAAT,CAAmB,gCAA+BH,cAAe,EAAjE,EAAoE;MAAEE;IAAF,CAApE,CAAb;EACD;;EAC2B,MAAfE,eAAe,CAACJ,cAAD,EAAyBK,SAAzB,EAA2D;IACrF,OAAO,MAAM,KAAKV,GAAL,CAASQ,QAAT,CAAmB,4BAA2BH,cAAe,EAA7D,EAAgE;MAAEK;IAAF,CAAhE,CAAb;EACD;;EAC6B,MAAjBC,iBAAiB,CAACN,cAAD,EAAwC;IACpE,MAAM,KAAKL,GAAL,CAASY,WAAT,CAAsB,gCAA+BP,cAAe,EAApE,CAAN;EACD;;EAC2B,MAAfQ,eAAe,CAACR,cAAD,EAAwC;IAClE,MAAM,KAAKL,GAAL,CAASY,WAAT,CAAsB,4BAA2BP,cAAe,EAAhE,CAAN;EACD;;AApB4B"}