{"version":3,"file":"url.js","names":["getExpoDomainUrl","process","env","EXPO_STAGING","EXPO_LOCAL","constructBuildLogsUrl","buildId","username","projectSlug","constructTurtleStatusUrl","constructArtifactUrl","artifactId","isUrlAvailableAsync","url","Promise","resolve","dns","lookup","err"],"sources":["../../../src/commands/utils/url.ts"],"sourcesContent":["import dns from 'dns';\n\nexport function getExpoDomainUrl(): string {\n  if (process.env.EXPO_STAGING) {\n    return `https://staging.expo.dev`;\n  } else if (process.env.EXPO_LOCAL) {\n    return `http://expo.test`;\n  } else {\n    return `https://expo.dev`;\n  }\n}\n\nexport function constructBuildLogsUrl({\n  buildId,\n  username,\n  projectSlug,\n}: {\n  buildId: string;\n  username?: string;\n  projectSlug?: string;\n  v2?: boolean;\n}): string {\n  if (username && projectSlug) {\n    return `${getExpoDomainUrl()}/accounts/${username}/projects/${projectSlug}/builds/${buildId}`;\n  } else if (username) {\n    return `${getExpoDomainUrl()}/accounts/${username}/builds/${buildId}`;\n  } else {\n    return `${getExpoDomainUrl()}/builds/${buildId}`;\n  }\n}\n\nexport function constructTurtleStatusUrl(): string {\n  return `${getExpoDomainUrl()}/turtle-status`;\n}\n\nexport function constructArtifactUrl(artifactId: string): string {\n  return `${getExpoDomainUrl()}/artifacts/${artifactId}`;\n}\n\nexport function isUrlAvailableAsync(url: string): Promise<boolean> {\n  return new Promise<boolean>(resolve => {\n    dns.lookup(url, err => {\n      resolve(!err);\n    });\n  });\n}\n"],"mappings":";;;;;;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAEO,SAASA,gBAAT,GAAoC;EACzC,IAAIC,OAAO,CAACC,GAAR,CAAYC,YAAhB,EAA8B;IAC5B,OAAQ,0BAAR;EACD,CAFD,MAEO,IAAIF,OAAO,CAACC,GAAR,CAAYE,UAAhB,EAA4B;IACjC,OAAQ,kBAAR;EACD,CAFM,MAEA;IACL,OAAQ,kBAAR;EACD;AACF;;AAEM,SAASC,qBAAT,CAA+B;EACpCC,OADoC;EAEpCC,QAFoC;EAGpCC;AAHoC,CAA/B,EASI;EACT,IAAID,QAAQ,IAAIC,WAAhB,EAA6B;IAC3B,OAAQ,GAAER,gBAAgB,EAAG,aAAYO,QAAS,aAAYC,WAAY,WAAUF,OAAQ,EAA5F;EACD,CAFD,MAEO,IAAIC,QAAJ,EAAc;IACnB,OAAQ,GAAEP,gBAAgB,EAAG,aAAYO,QAAS,WAAUD,OAAQ,EAApE;EACD,CAFM,MAEA;IACL,OAAQ,GAAEN,gBAAgB,EAAG,WAAUM,OAAQ,EAA/C;EACD;AACF;;AAEM,SAASG,wBAAT,GAA4C;EACjD,OAAQ,GAAET,gBAAgB,EAAG,gBAA7B;AACD;;AAEM,SAASU,oBAAT,CAA8BC,UAA9B,EAA0D;EAC/D,OAAQ,GAAEX,gBAAgB,EAAG,cAAaW,UAAW,EAArD;AACD;;AAEM,SAASC,mBAAT,CAA6BC,GAA7B,EAA4D;EACjE,OAAO,IAAIC,OAAJ,CAAqBC,OAAO,IAAI;IACrCC,cAAA,CAAIC,MAAJ,CAAWJ,GAAX,EAAgBK,GAAG,IAAI;MACrBH,OAAO,CAAC,CAACG,GAAF,CAAP;IACD,CAFD;EAGD,CAJM,CAAP;AAKD"}