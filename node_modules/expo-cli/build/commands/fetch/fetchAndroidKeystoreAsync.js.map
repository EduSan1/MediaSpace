{"version":3,"file":"fetchAndroidKeystoreAsync.js","names":["actionAsync","projectRoot","options","ctx","Context","init","nonInteractive","parent","keystoreFilename","manifest","slug","maybeRenameExistingFileAsync","backupKeystoreOutputPath","path","resolve","experienceName","projectOwner","assertSlug","runCredentialsManager","DownloadKeystore","outputPath","displayCredentials"],"sources":["../../../src/commands/fetch/fetchAndroidKeystoreAsync.ts"],"sourcesContent":["import * as path from 'path';\n\nimport { Context } from '../../credentials';\nimport { runCredentialsManager } from '../../credentials/route';\nimport { DownloadKeystore } from '../../credentials/views/AndroidKeystore';\nimport { assertSlug, maybeRenameExistingFileAsync, Options } from './utils';\n\nexport async function actionAsync(projectRoot: string, options: Options): Promise<void> {\n  const ctx = new Context();\n  await ctx.init(projectRoot, {\n    nonInteractive: options.parent?.nonInteractive,\n  });\n\n  const keystoreFilename = `${ctx.manifest.slug}.jks`;\n  await maybeRenameExistingFileAsync(projectRoot, keystoreFilename);\n  const backupKeystoreOutputPath = path.resolve(projectRoot, keystoreFilename);\n  const experienceName = `@${ctx.projectOwner}/${ctx.manifest.slug}`;\n\n  assertSlug(ctx.manifest.slug);\n  await runCredentialsManager(\n    ctx,\n    new DownloadKeystore(experienceName, {\n      outputPath: backupKeystoreOutputPath,\n      displayCredentials: true,\n    })\n  );\n}\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;;;AAEO,eAAeA,WAAf,CAA2BC,WAA3B,EAAgDC,OAAhD,EAAiF;EAAA;;EACtF,MAAMC,GAAG,GAAG,KAAIC,sBAAJ,GAAZ;EACA,MAAMD,GAAG,CAACE,IAAJ,CAASJ,WAAT,EAAsB;IAC1BK,cAAc,qBAAEJ,OAAO,CAACK,MAAV,oDAAE,gBAAgBD;EADN,CAAtB,CAAN;EAIA,MAAME,gBAAgB,GAAI,GAAEL,GAAG,CAACM,QAAJ,CAAaC,IAAK,MAA9C;EACA,MAAM,IAAAC,qCAAA,EAA6BV,WAA7B,EAA0CO,gBAA1C,CAAN;EACA,MAAMI,wBAAwB,GAAGC,IAAI,GAACC,OAAL,CAAab,WAAb,EAA0BO,gBAA1B,CAAjC;EACA,MAAMO,cAAc,GAAI,IAAGZ,GAAG,CAACa,YAAa,IAAGb,GAAG,CAACM,QAAJ,CAAaC,IAAK,EAAjE;EAEA,IAAAO,mBAAA,EAAWd,GAAG,CAACM,QAAJ,CAAaC,IAAxB;EACA,MAAM,IAAAQ,8BAAA,EACJf,GADI,EAEJ,KAAIgB,mCAAJ,EAAqBJ,cAArB,EAAqC;IACnCK,UAAU,EAAER,wBADuB;IAEnCS,kBAAkB,EAAE;EAFe,CAArC,CAFI,CAAN;AAOD"}