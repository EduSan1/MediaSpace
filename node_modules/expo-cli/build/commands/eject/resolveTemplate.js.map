{"version":3,"file":"resolveTemplate.js","names":["resolveTemplateOption","template","isURL","startsWith","path","sep","templatePath","resolve","fs","existsSync","CommandError","statSync","isFile"],"sources":["../../../src/commands/eject/resolveTemplate.ts"],"sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\nimport { isURL } from 'xdl/build/UrlUtils';\n\nimport CommandError from '../../CommandError';\n\nexport function resolveTemplateOption(template: string) {\n  if (isURL(template, {})) {\n    return template;\n  }\n\n  if (template.startsWith(`.${path.sep}`) || template.startsWith(path.sep)) {\n    const templatePath = path.resolve(template);\n    if (!fs.existsSync(templatePath)) {\n      throw new CommandError('template file does not exist: ' + templatePath);\n    }\n    if (!fs.statSync(templatePath).isFile()) {\n      throw new CommandError(\n        'template must be a tar file created by running `npm pack` in a project: ' + templatePath\n      );\n    }\n    return templatePath;\n  }\n  return template;\n}\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;;;;;AAEO,SAASA,qBAAT,CAA+BC,QAA/B,EAAiD;EACtD,IAAI,IAAAC,iBAAA,EAAMD,QAAN,EAAgB,EAAhB,CAAJ,EAAyB;IACvB,OAAOA,QAAP;EACD;;EAED,IAAIA,QAAQ,CAACE,UAAT,CAAqB,IAAGC,IAAI,GAACC,GAAI,EAAjC,KAAuCJ,QAAQ,CAACE,UAAT,CAAoBC,IAAI,GAACC,GAAzB,CAA3C,EAA0E;IACxE,MAAMC,YAAY,GAAGF,IAAI,GAACG,OAAL,CAAaN,QAAb,CAArB;;IACA,IAAI,CAACO,EAAE,GAACC,UAAH,CAAcH,YAAd,CAAL,EAAkC;MAChC,MAAM,KAAII,uBAAJ,EAAiB,mCAAmCJ,YAApD,CAAN;IACD;;IACD,IAAI,CAACE,EAAE,GAACG,QAAH,CAAYL,YAAZ,EAA0BM,MAA1B,EAAL,EAAyC;MACvC,MAAM,KAAIF,uBAAJ,EACJ,6EAA6EJ,YADzE,CAAN;IAGD;;IACD,OAAOA,YAAP;EACD;;EACD,OAAOL,QAAP;AACD"}