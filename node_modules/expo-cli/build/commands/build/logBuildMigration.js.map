{"version":3,"file":"logBuildMigration.js","names":["daysUntilDate","date","today","Date","eventDate","timeDiff","getTime","diffDays","Math","ceil","logBuildMigration","platform","Log","newLine","command","chalk","bold","log","dim","TerminalLink","learnMore","cyan","linkedText","endDate","daysLeft","red"],"sources":["../../../src/commands/build/logBuildMigration.ts"],"sourcesContent":["import chalk from 'chalk';\n\nimport Log from '../../log';\nimport * as TerminalLink from '../utils/TerminalLink';\n\nconst daysUntilDate = (date: string) => {\n  const today = new Date();\n  const eventDate = new Date(date);\n  const timeDiff = eventDate.getTime() - today.getTime();\n  if (timeDiff < 0) {\n    return 0;\n  }\n  const diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n  return diffDays;\n};\n\nexport function logBuildMigration(platform: string) {\n  Log.newLine();\n  const command = chalk.bold(`expo build:${platform}`);\n  Log.log(\n    `${command} has been superseded by ${chalk.bold`eas build`}. ${chalk.dim(\n      TerminalLink.learnMore(`https://blog.expo.dev/turtle-goes-out-to-sea-d334db2a6b60`)\n    )}`\n  );\n  Log.newLine();\n  Log.log('Run the following:');\n  Log.newLine();\n  Log.log('\\u203A ' + chalk.cyan.bold('npm install -g eas-cli'));\n  Log.log(\n    `\\u203A ${TerminalLink.linkedText(\n      chalk.cyan.bold(`eas build -p ${platform}`),\n      `https://docs.expo.dev/build/setup/`\n    )}`\n  );\n\n  const endDate = 'January 4, 2023';\n  const daysLeft = daysUntilDate(endDate);\n  Log.newLine();\n\n  if (daysLeft) {\n    Log.log(\n      `${command} will be discontinued on ${chalk.bold(endDate)} (${daysLeft} day${\n        daysLeft === 1 ? '' : 's'\n      } left).`\n    );\n  } else {\n    Log.log(chalk.red(`${command} has been discontinued (${chalk.bold(endDate)}).`));\n  }\n  Log.newLine();\n}\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;;;;;AAEA,MAAMA,aAAa,GAAIC,IAAD,IAAkB;EACtC,MAAMC,KAAK,GAAG,IAAIC,IAAJ,EAAd;EACA,MAAMC,SAAS,GAAG,IAAID,IAAJ,CAASF,IAAT,CAAlB;EACA,MAAMI,QAAQ,GAAGD,SAAS,CAACE,OAAV,KAAsBJ,KAAK,CAACI,OAAN,EAAvC;;EACA,IAAID,QAAQ,GAAG,CAAf,EAAkB;IAChB,OAAO,CAAP;EACD;;EACD,MAAME,QAAQ,GAAGC,IAAI,CAACC,IAAL,CAAUJ,QAAQ,IAAI,OAAO,IAAP,GAAc,EAAlB,CAAlB,CAAjB;EACA,OAAOE,QAAP;AACD,CATD;;AAWO,SAASG,iBAAT,CAA2BC,QAA3B,EAA6C;EAClDC,cAAA,CAAIC,OAAJ;;EACA,MAAMC,OAAO,GAAGC,gBAAA,CAAMC,IAAN,CAAY,cAAaL,QAAS,EAAlC,CAAhB;;EACAC,cAAA,CAAIK,GAAJ,CACG,GAAEH,OAAQ,2BAA0BC,gBAAA,CAAMC,IAAK,WAAW,KAAID,gBAAA,CAAMG,GAAN,CAC7DC,YAAY,GAACC,SAAb,CAAwB,2DAAxB,CAD6D,CAE7D,EAHJ;;EAKAR,cAAA,CAAIC,OAAJ;;EACAD,cAAA,CAAIK,GAAJ,CAAQ,oBAAR;;EACAL,cAAA,CAAIC,OAAJ;;EACAD,cAAA,CAAIK,GAAJ,CAAQ,YAAYF,gBAAA,CAAMM,IAAN,CAAWL,IAAX,CAAgB,wBAAhB,CAApB;;EACAJ,cAAA,CAAIK,GAAJ,CACG,UAASE,YAAY,GAACG,UAAb,CACRP,gBAAA,CAAMM,IAAN,CAAWL,IAAX,CAAiB,gBAAeL,QAAS,EAAzC,CADQ,EAEP,oCAFO,CAGR,EAJJ;;EAOA,MAAMY,OAAO,GAAG,iBAAhB;EACA,MAAMC,QAAQ,GAAGxB,aAAa,CAACuB,OAAD,CAA9B;;EACAX,cAAA,CAAIC,OAAJ;;EAEA,IAAIW,QAAJ,EAAc;IACZZ,cAAA,CAAIK,GAAJ,CACG,GAAEH,OAAQ,4BAA2BC,gBAAA,CAAMC,IAAN,CAAWO,OAAX,CAAoB,KAAIC,QAAS,OACrEA,QAAQ,KAAK,CAAb,GAAiB,EAAjB,GAAsB,GACvB,SAHH;EAKD,CAND,MAMO;IACLZ,cAAA,CAAIK,GAAJ,CAAQF,gBAAA,CAAMU,GAAN,CAAW,GAAEX,OAAQ,2BAA0BC,gBAAA,CAAMC,IAAN,CAAWO,OAAX,CAAoB,IAAnE,CAAR;EACD;;EACDX,cAAA,CAAIC,OAAJ;AACD"}