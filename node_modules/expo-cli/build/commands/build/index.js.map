{"version":3,"file":"index.js","names":["program","applyAsyncActionProjectDir","command","alias","helpGroup","option","longDescription","description","chalk","yellow","bold","checkConfig"],"sources":["../../../src/commands/build/index.ts"],"sourcesContent":["import chalk from 'chalk';\nimport type { Command } from 'commander';\n\nimport { applyAsyncActionProjectDir } from '../utils/applyAsyncAction';\n\nexport default function (program: Command) {\n  applyAsyncActionProjectDir(\n    program\n      .command('build:ios [path]')\n      .alias('bi')\n      .helpGroup('deprecated')\n      .option('-c, --clear-credentials', 'Clear all credentials stored on Expo servers.')\n      .option('--clear-dist-cert', 'Remove Distribution Certificate stored on Expo servers.')\n      .option('--clear-push-key', 'Remove Push Notifications Key stored on Expo servers.')\n      .option(\n        '--clear-push-cert',\n        'Remove Push Notifications Certificate stored on Expo servers. Use of Push Notifications Certificates is deprecated.'\n      )\n      .option('--clear-provisioning-profile', 'Remove Provisioning Profile stored on Expo servers.')\n      .option(\n        '-r --revoke-credentials',\n        'Revoke credentials on developer.apple.com, select appropriate using --clear-* options.'\n      )\n      .option(\n        '--apple-id <login>',\n        'Apple ID username (please also set the Apple ID password as EXPO_APPLE_PASSWORD environment variable).'\n      )\n      .option('-t --type <archive|simulator>', 'Type of build: [archive|simulator].')\n      .option('--release-channel <name>', 'Pull from specified release channel.', 'default')\n      .option('--no-publish', 'Disable automatic publishing before building.')\n      .option('--no-wait', 'Exit immediately after scheduling build.')\n      .option('--team-id <apple-teamId>', 'Apple Team ID.')\n      .option(\n        '--dist-p12-path <path>',\n        'Path to your Distribution Certificate P12 (set password as EXPO_IOS_DIST_P12_PASSWORD environment variable).'\n      )\n      .option('--push-id <push-id>', 'Push Key ID (ex: 123AB4C56D).')\n      .option('--push-p8-path <path>', 'Path to your Push Key .p8 file.')\n      .option('--provisioning-profile-path <path>', 'Path to your Provisioning Profile.')\n      .option(\n        '--public-url <url>',\n        'The URL of an externally hosted manifest (for self-hosted apps).'\n      )\n      .option('--skip-credentials-check', 'Skip checking credentials.')\n      .option(\n        '--skip-workflow-check',\n        'Skip warning about build service bare workflow limitations.'\n      )\n      .longDescription('Build and sign a standalone IPA for the Apple App Store')\n      .description(`${chalk.yellow`Superseded`} by ${chalk.bold`eas build`} in eas-cli`),\n    () => import('./buildIosAsync'),\n    { checkConfig: true }\n  );\n\n  applyAsyncActionProjectDir(\n    program\n      .command('build:android [path]')\n      .alias('ba')\n      .helpGroup('deprecated')\n      .option('-c, --clear-credentials', 'Clear stored credentials.')\n      .option('--release-channel <name>', 'Pull from specified release channel.', 'default')\n      .option('--no-publish', 'Disable automatic publishing before building.')\n      .option('--no-wait', 'Exit immediately after triggering build.')\n      .option('--keystore-path <path>', 'Path to your Keystore: *.jks.')\n      .option('--keystore-alias <alias>', 'Keystore Alias')\n      .option('--generate-keystore', '[deprecated] Generate Keystore if one does not exist')\n      .option(\n        '--public-url <url>',\n        'The URL of an externally hosted manifest (for self-hosted apps)'\n      )\n      .option(\n        '--skip-workflow-check',\n        'Skip warning about build service bare workflow limitations.'\n      )\n      .option('-t --type <app-bundle|apk>', 'Type of build: [app-bundle|apk].')\n      .longDescription('Build and sign a standalone APK or App Bundle for the Google Play Store')\n      .description(`${chalk.yellow`Superseded`} by ${chalk.bold`eas build`} in eas-cli`),\n    () => import('./buildAndroidAsync'),\n    { checkConfig: true }\n  );\n\n  applyAsyncActionProjectDir(\n    program\n      .command('build:web [path]')\n      .helpGroup('build')\n      .option('-c, --clear', 'Clear all cached build files and assets.')\n      .option(\n        '--no-pwa',\n        'Prevent webpack from generating the manifest.json and injecting meta into the index.html head.'\n      )\n      .option('-d, --dev', 'Turns dev flag on before bundling')\n      .description('Build the web app for production'),\n    () => import('./buildWebAsync')\n  );\n\n  applyAsyncActionProjectDir(\n    program\n      .command('build:status [path]')\n      .alias('bs')\n      .helpGroup('deprecated')\n      .option(\n        '--public-url <url>',\n        'The URL of an externally hosted manifest (for self-hosted apps).'\n      )\n      .longDescription('Get the status of the latest build for the project')\n      .description(`${chalk.yellow`Superseded`} by ${chalk.bold`eas build:list`} in eas-cli`),\n    () => import('./buildStatusAsync')\n  );\n}\n"],"mappings":"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"}