{"version":3,"file":"sendAsync.js","names":["actionAsync","projectRoot","options","urlOpts","optsAsync","url","UrlUtils","constructDeepLinkAsync","Log","nested","chalk","underline","handleMobileOptsAsync","recipient","sendTo","UserSettings","getAsync","askForSendToAsync","sendUrlAsync"],"sources":["../../src/commands/sendAsync.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { UrlUtils, UserSettings } from 'xdl';\n\nimport Log from '../log';\nimport * as sendTo from './utils/sendTo';\nimport urlOpts, { URLOptions } from './utils/urlOpts';\n\ntype Options = Partial<URLOptions & { sendTo?: string }>;\n\nexport async function actionAsync(projectRoot: string, options: Options) {\n  await urlOpts.optsAsync(projectRoot, options);\n\n  const url = await UrlUtils.constructDeepLinkAsync(projectRoot);\n\n  Log.nested('Project manifest URL\\n\\n' + chalk.underline(url) + '\\n');\n\n  if (await urlOpts.handleMobileOptsAsync(projectRoot, options)) {\n    return;\n  }\n\n  let recipient =\n    typeof options.sendTo !== 'boolean'\n      ? options.sendTo\n      : await UserSettings.getAsync('sendTo', null);\n\n  if (!recipient) {\n    recipient = await sendTo.askForSendToAsync();\n  }\n\n  await sendTo.sendUrlAsync(url, recipient);\n}\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;;;;;AAIO,eAAeA,WAAf,CAA2BC,WAA3B,EAAgDC,OAAhD,EAAkE;EACvE,MAAMC,kBAAA,CAAQC,SAAR,CAAkBH,WAAlB,EAA+BC,OAA/B,CAAN;EAEA,MAAMG,GAAG,GAAG,MAAMC,eAAA,CAASC,sBAAT,CAAgCN,WAAhC,CAAlB;;EAEAO,cAAA,CAAIC,MAAJ,CAAW,6BAA6BC,gBAAA,CAAMC,SAAN,CAAgBN,GAAhB,CAA7B,GAAoD,IAA/D;;EAEA,IAAI,MAAMF,kBAAA,CAAQS,qBAAR,CAA8BX,WAA9B,EAA2CC,OAA3C,CAAV,EAA+D;IAC7D;EACD;;EAED,IAAIW,SAAS,GACX,OAAOX,OAAO,CAACY,MAAf,KAA0B,SAA1B,GACIZ,OAAO,CAACY,MADZ,GAEI,MAAMC,mBAAA,CAAaC,QAAb,CAAsB,QAAtB,EAAgC,IAAhC,CAHZ;;EAKA,IAAI,CAACH,SAAL,EAAgB;IACdA,SAAS,GAAG,MAAMC,MAAM,GAACG,iBAAP,EAAlB;EACD;;EAED,MAAMH,MAAM,GAACI,YAAP,CAAoBb,GAApB,EAAyBQ,SAAzB,CAAN;AACD"}