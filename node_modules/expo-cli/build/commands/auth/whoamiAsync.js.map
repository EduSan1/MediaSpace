{"version":3,"file":"whoamiAsync.js","names":["actionAsync","command","user","UserManager","getCurrentUserAsync","silent","parent","nonInteractive","Log","nested","username","log","chalk","cyan","process","exit"],"sources":["../../../src/commands/auth/whoamiAsync.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { UserManager } from 'xdl';\n\nimport Log from '../../log';\n\nexport type Options = {\n  parent?: {\n    nonInteractive: boolean;\n  };\n};\n\nexport async function actionAsync(command: Options) {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    if (command.parent?.nonInteractive) {\n      Log.nested(user.username);\n    } else {\n      Log.log(`Logged in as ${chalk.cyan(user.username)}`);\n    }\n  } else {\n    Log.log(`\\u203A Not logged in, run ${chalk.cyan`expo login`} to authenticate`);\n    process.exit(1);\n  }\n}\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAQO,eAAeA,WAAf,CAA2BC,OAA3B,EAA6C;EAClD,MAAMC,IAAI,GAAG,MAAMC,kBAAA,CAAYC,mBAAZ,CAAgC;IAAEC,MAAM,EAAE;EAAV,CAAhC,CAAnB;;EACA,IAAIH,IAAJ,EAAU;IAAA;;IACR,uBAAID,OAAO,CAACK,MAAZ,4CAAI,gBAAgBC,cAApB,EAAoC;MAClCC,cAAA,CAAIC,MAAJ,CAAWP,IAAI,CAACQ,QAAhB;IACD,CAFD,MAEO;MACLF,cAAA,CAAIG,GAAJ,CAAS,gBAAeC,gBAAA,CAAMC,IAAN,CAAWX,IAAI,CAACQ,QAAhB,CAA0B,EAAlD;IACD;EACF,CAND,MAMO;IACLF,cAAA,CAAIG,GAAJ,CAAS,6BAA4BC,gBAAA,CAAMC,IAAK,YAAY,kBAA5D;;IACAC,OAAO,CAACC,IAAR,CAAa,CAAb;EACD;AACF"}