{"version":3,"file":"logoutAsync.js","names":["actionAsync","user","UserManager","getCurrentUserAsync","silent","accessToken","CommandError","logoutAsync","Log","log","e","message"],"sources":["../../../src/commands/auth/logoutAsync.ts"],"sourcesContent":["import { UserManager } from 'xdl';\n\nimport CommandError from '../../CommandError';\nimport Log from '../../log';\n\nexport async function actionAsync() {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user?.accessToken) {\n    throw new CommandError(\n      'ACCESS_TOKEN_ERROR',\n      'Please remove the EXPO_TOKEN environment var to logout.'\n    );\n  }\n\n  try {\n    await UserManager.logoutAsync();\n    Log.log('Logged out');\n  } catch (e: any) {\n    throw new CommandError(`Couldn't logout: ${e.message}`);\n  }\n}\n"],"mappings":";;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AACA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;AAEO,eAAeA,WAAf,GAA6B;EAClC,MAAMC,IAAI,GAAG,MAAMC,kBAAA,CAAYC,mBAAZ,CAAgC;IAAEC,MAAM,EAAE;EAAV,CAAhC,CAAnB;;EACA,IAAIH,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEI,WAAV,EAAuB;IACrB,MAAM,KAAIC,uBAAJ,EACJ,oBADI,EAEJ,yDAFI,CAAN;EAID;;EAED,IAAI;IACF,MAAMJ,kBAAA,CAAYK,WAAZ,EAAN;;IACAC,cAAA,CAAIC,GAAJ,CAAQ,YAAR;EACD,CAHD,CAGE,OAAOC,CAAP,EAAe;IACf,MAAM,KAAIJ,uBAAJ,EAAkB,oBAAmBI,CAAC,CAACC,OAAQ,EAA/C,CAAN;EACD;AACF"}