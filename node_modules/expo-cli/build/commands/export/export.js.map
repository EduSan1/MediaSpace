{"version":3,"file":"export.js","names":["collect","val","memo","push","program","applyAsyncActionProjectDir","command","description","helpGroup","option","checkConfig"],"sources":["../../../src/commands/export/export.ts"],"sourcesContent":["import type { Command } from 'commander';\n\nimport { applyAsyncActionProjectDir } from '../utils/applyAsyncAction';\n\nfunction collect<T>(val: T, memo: T[]): T[] {\n  memo.push(val);\n  return memo;\n}\n\nexport default function (program: Command) {\n  applyAsyncActionProjectDir(\n    program\n      .command('export [path]')\n      .description('Export the static files of the app for hosting it on a web server')\n      .helpGroup('core')\n      .option('--platform <all|android|ios>', 'Platforms: android, ios, all', 'all')\n      .option('-p, --public-url <url>', 'The public url that will host the static files (required)')\n      .option('-c, --clear', 'Clear the Metro bundler cache')\n      .option('--output-dir <dir>', 'The directory to export the static files to', 'dist')\n      .option(\n        '-a, --asset-url <url>',\n        'The absolute or relative url that will host the asset files',\n        './assets'\n      )\n      .option('-d, --dump-assetmap', 'Dump the asset map for further processing')\n      .option('--dev', 'Configure static files for developing locally using a non-https server')\n      .option('-s, --dump-sourcemap', 'Dump the source map for debugging the JS bundle')\n      .option('-q, --quiet', 'Suppress verbose output')\n      .option('-t, --target <managed|bare>', 'Target environment for which this export is intended')\n      .option('--merge-src-dir <dir>', 'A repeatable source dir to merge in', collect, [])\n      .option(\n        '--merge-src-url <url>',\n        'A repeatable source tar.gz file URL to merge in',\n        collect,\n        []\n      )\n      .option('--max-workers <num>', 'Maximum number of tasks to allow Metro to spawn')\n      .option('--experimental-bundle', 'export bundles for use with EAS updates'),\n    () => import('./exportAsync'),\n    { checkConfig: true }\n  );\n}\n"],"mappings":";;;;;;;AAEA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;;;;;AAEA,SAASA,OAAT,CAAoBC,GAApB,EAA4BC,IAA5B,EAA4C;EAC1CA,IAAI,CAACC,IAAL,CAAUF,GAAV;EACA,OAAOC,IAAP;AACD;;AAEc,kBAAUE,OAAV,EAA4B;EACzC,IAAAC,8CAAA,EACED,OAAO,CACJE,OADH,CACW,eADX,EAEGC,WAFH,CAEe,mEAFf,EAGGC,SAHH,CAGa,MAHb,EAIGC,MAJH,CAIU,8BAJV,EAI0C,8BAJ1C,EAI0E,KAJ1E,EAKGA,MALH,CAKU,wBALV,EAKoC,2DALpC,EAMGA,MANH,CAMU,aANV,EAMyB,+BANzB,EAOGA,MAPH,CAOU,oBAPV,EAOgC,6CAPhC,EAO+E,MAP/E,EAQGA,MARH,CASI,uBATJ,EAUI,6DAVJ,EAWI,UAXJ,EAaGA,MAbH,CAaU,qBAbV,EAaiC,2CAbjC,EAcGA,MAdH,CAcU,OAdV,EAcmB,wEAdnB,EAeGA,MAfH,CAeU,sBAfV,EAekC,iDAflC,EAgBGA,MAhBH,CAgBU,aAhBV,EAgByB,yBAhBzB,EAiBGA,MAjBH,CAiBU,6BAjBV,EAiByC,sDAjBzC,EAkBGA,MAlBH,CAkBU,uBAlBV,EAkBmC,qCAlBnC,EAkB0ET,OAlB1E,EAkBmF,EAlBnF,EAmBGS,MAnBH,CAoBI,uBApBJ,EAqBI,iDArBJ,EAsBIT,OAtBJ,EAuBI,EAvBJ,EAyBGS,MAzBH,CAyBU,qBAzBV,EAyBiC,iDAzBjC,EA0BGA,MA1BH,CA0BU,uBA1BV,EA0BmC,yCA1BnC,CADF,EA4BE,mEAAa,eAAb,GA5BF,EA6BE;IAAEC,WAAW,EAAE;EAAf,CA7BF;AA+BD"}